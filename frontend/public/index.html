<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SnapMagic - AI Trading Card Creator</title>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 50%, #2d3748 100%);
            min-height: 100vh;
            color: #ffffff;
            line-height: 1.6;
        }

        /* Modern Color Palette */
        :root {
            --primary-blue: #3182ce;
            --primary-blue-hover: #2c5aa0;
            --secondary-orange: #ff8c00;
            --secondary-orange-hover: #e67e00;
            --success-green: #38a169;
            --danger-red: #e53e3e;
            --warning-yellow: #d69e2e;
            --dark-bg: #1a202c;
            --darker-bg: #0f1419;
            --card-bg: rgba(255, 255, 255, 0.05);
            --border-color: rgba(255, 255, 255, 0.1);
            --text-primary: #ffffff;
            --text-secondary: #a0aec0;
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        /* Loading screen styles */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--darker-bg) 0%, var(--dark-bg) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .loading-container { 
            text-align: center; 
            padding: 2rem; 
        }
        .loading-logo { 
            font-size: 4rem; 
            margin-bottom: 1rem; 
            background: linear-gradient(45deg, var(--primary-blue), var(--secondary-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .loading-title { 
            font-size: 2.5rem; 
            margin-bottom: 1rem; 
            color: var(--secondary-orange);
            font-weight: 700;
        }
        .loading-subtitle { 
            font-size: 1.2rem; 
            margin-bottom: 2rem; 
            opacity: 0.9; 
            color: var(--text-secondary);
        }
        .loading-text { 
            font-size: 1rem; 
            opacity: 0.7; 
            color: var(--text-secondary);
        }

        /* Login Screen Styles - Modern Design */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--darker-bg) 0%, var(--dark-bg) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .login-container {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 3rem;
            width: 100%;
            max-width: 400px;
            margin: 1rem;
            box-shadow: var(--shadow);
            text-align: center;
        }

        .login-logo {
            font-size: 3rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary-blue), var(--secondary-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .login-title {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 700;
        }

        .login-subtitle {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(45deg, var(--primary-blue), var(--primary-blue-hover));
            color: white;
            width: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(49, 130, 206, 0.4);
        }

        /* Main App Styles - Modern Tab Interface */
        .main-app {
            display: none;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--darker-bg) 0%, var(--dark-bg) 100%);
        }

        .app-header {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            padding: 1.5rem 2rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .app-title {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary-blue), var(--secondary-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .app-subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .user-info {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .welcome-text {
            color: var(--text-primary);
            font-weight: 500;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        /* Tab Navigation */
        .tab-navigation {
            background: var(--card-bg);
            border-bottom: 1px solid var(--border-color);
            padding: 0 2rem;
            display: flex;
            justify-content: center;
            overflow-x: auto;
        }

        .tab-nav-item {
            padding: 1rem 2rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            color: var(--text-secondary);
            font-weight: 500;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .tab-nav-item:hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.05);
        }

        .tab-nav-item.active {
            color: var(--primary-blue);
            border-bottom-color: var(--primary-blue);
            background: rgba(49, 130, 206, 0.1);
        }

        /* Tab Content */
        .tab-content {
            display: none;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .tab-content.active {
            display: block;
        }

        /* Instructions Tab */
        .instructions-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
        }

        .instructions-title {
            font-size: 2rem;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .instruction-step {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--primary-blue);
        }

        .step-number {
            background: var(--primary-blue);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
        }

        .step-title {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .step-description {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .warning-box {
            background: rgba(214, 158, 46, 0.1);
            border: 1px solid var(--warning-yellow);
            border-radius: 10px;
            padding: 1rem;
            margin-top: 2rem;
        }

        .warning-title {
            color: var(--warning-yellow);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .warning-text {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Card Generation Tab */
        .generation-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: start;
        }

        .input-section, .result-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .prompt-input {
            width: 100%;
            min-height: 120px;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 1rem;
        }

        .prompt-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.1);
        }

        .btn-generate {
            background: linear-gradient(45deg, var(--secondary-orange), var(--secondary-orange-hover));
            color: white;
            width: 100%;
            padding: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 140, 0, 0.4);
        }

        .btn-generate:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .result-image {
            width: 100%;
            max-width: 400px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            margin-bottom: 1rem;
        }

        .result-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn-success {
            background: var(--success-green);
            color: white;
        }

        .btn-success:hover {
            background: #2f855a;
            transform: translateY(-1px);
        }

        /* Video Tab */
        .video-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
            text-align: center;
        }

        .video-player {
            width: 100%;
            max-width: 600px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            margin: 1rem auto;
        }

        /* Processing States */
        .processing-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .processing-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 3rem;
            text-align: center;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
        }

        .processing-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .processing-text {
            color: var(--text-primary);
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .processing-subtext {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .app-header {
                padding: 1rem;
            }
            
            .app-title {
                font-size: 2rem;
            }
            
            .tab-content {
                padding: 1rem;
            }
            
            .generation-container {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .input-section, .result-section {
                padding: 1.5rem;
            }
            
            .user-info {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .tab-navigation {
                padding: 0 1rem;
            }
            
            .tab-nav-item {
                padding: 1rem 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .login-container {
                padding: 2rem;
                margin: 0.5rem;
            }
            
            .app-title {
                font-size: 1.8rem;
            }
            
            .tab-nav-item {
                padding: 0.8rem 1rem;
                font-size: 0.9rem;
            }
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-container">
            <div class="loading-logo">🎴</div>
            <h1 class="loading-title">SnapMagic</h1>
            <p class="loading-subtitle">AI-Powered Trading Card Creator</p>
            <p class="loading-text">Loading your magical experience...</p>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen hidden">
        <div class="login-container">
            <div class="login-logo">🎴</div>
            <h1 class="login-title">SnapMagic</h1>
            <p class="login-subtitle">Create magical trading cards with AI</p>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="username" class="form-label">Username</label>
                    <input type="text" id="username" name="username" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" id="password" name="password" class="form-input" required>
                </div>
                
                <button type="submit" class="btn btn-primary">Sign In</button>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="main-app">
        <!-- Header -->
        <header class="app-header">
            <h1 class="app-title">SnapMagic</h1>
            <p class="app-subtitle">Powered by Amazon Bedrock & AWS AI Services</p>
            <div class="user-info">
                <span class="welcome-text">Welcome, <span id="usernameDisplay">User</span></span>
                <button id="signOutBtn" class="btn btn-secondary">Sign Out</button>
            </div>
        </header>

        <!-- Tab Navigation -->
        <nav class="tab-navigation">
            <div class="tab-nav-item active" data-tab="instructions">📖 Instructions</div>
            <div class="tab-nav-item" data-tab="card-generation">🎴 Create Card</div>
            <div class="tab-nav-item" data-tab="video-generation">🎬 Create Video</div>
        </nav>

        <!-- Tab Content -->
        <main class="tab-content-container">
            <!-- Instructions Tab -->
            <div id="instructions" class="tab-content active">
                <div class="instructions-container">
                    <h2 class="instructions-title">How to Use SnapMagic</h2>
                    
                    <div class="instruction-step">
                        <div style="display: flex; align-items: flex-start;">
                            <span class="step-number">1</span>
                            <div>
                                <h3 class="step-title">Choose Your Template</h3>
                                <p class="step-description">SnapMagic uses a professional trading card template designed for AWS events and conferences. The template includes space for your custom AI-generated artwork.</p>
                            </div>
                        </div>
                    </div>

                    <div class="instruction-step">
                        <div style="display: flex; align-items: flex-start;">
                            <span class="step-number">2</span>
                            <div>
                                <h3 class="step-title">Enter Your Prompt</h3>
                                <p class="step-description">Describe what you want on your trading card. Be creative! Examples: "A magical wizard casting spells", "A futuristic robot in a cyberpunk city", "A majestic dragon flying over mountains".</p>
                            </div>
                        </div>
                    </div>

                    <div class="instruction-step">
                        <div style="display: flex; align-items: flex-start;">
                            <span class="step-number">3</span>
                            <div>
                                <h3 class="step-title">Generate Your Card</h3>
                                <p class="step-description">Click the generate button and watch as AI creates your unique trading card. The process takes about 10-15 seconds using Amazon Bedrock's advanced image generation.</p>
                            </div>
                        </div>
                    </div>

                    <div class="instruction-step">
                        <div style="display: flex; align-items: flex-start;">
                            <span class="step-number">4</span>
                            <div>
                                <h3 class="step-title">Create Animation (Optional)</h3>
                                <p class="step-description">Want to bring your card to life? Click the video option to create an animated version. The video generation takes approximately 2 minutes to complete.</p>
                            </div>
                        </div>
                    </div>

                    <div class="instruction-step">
                        <div style="display: flex; align-items: flex-start;">
                            <span class="step-number">5</span>
                            <div>
                                <h3 class="step-title">Download Your Creation</h3>
                                <p class="step-description">Once generated, download your card or video immediately. You can create multiple variations and download them all during your session.</p>
                            </div>
                        </div>
                    </div>

                    <div class="warning-box">
                        <h4 class="warning-title">⚠️ Important Notice</h4>
                        <p class="warning-text">We do not store your generated content on our servers. All cards and videos are only available during your current session. Make sure to download anything you want to keep before signing out or closing the application.</p>
                    </div>
                </div>
            </div>

            <!-- Card Generation Tab -->
            <div id="card-generation" class="tab-content">
                <div class="generation-container">
                    <div class="input-section">
                        <h2 class="section-title">Create Your Trading Card</h2>
                        <textarea id="promptInput" class="prompt-input" placeholder="Describe your trading card... (e.g., 'A magical wizard casting spells in an enchanted forest')"></textarea>
                        <button id="generateBtn" class="btn btn-generate">🎨 Generate Trading Card</button>
                    </div>
                    
                    <div class="result-section">
                        <h2 class="section-title">Your Generated Card</h2>
                        <div id="resultContainer">
                            <p style="color: var(--text-secondary); text-align: center; padding: 2rem;">Your generated trading card will appear here</p>
                        </div>
                        <div id="resultActions" class="result-actions hidden">
                            <button id="downloadBtn" class="btn btn-success">💾 Download Card</button>
                            <button id="createVideoBtn" class="btn btn-primary">🎬 Create Video</button>
                            <button id="createAnotherBtn" class="btn btn-secondary">🔄 Create Another</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Generation Tab -->
            <div id="video-generation" class="tab-content">
                <div class="video-container">
                    <h2 class="section-title">Animate Your Trading Card</h2>
                    <div id="videoSection">
                        <p style="color: var(--text-secondary); margin-bottom: 2rem;">Generate a trading card first, then come back here to create an animated version.</p>
                        <button id="backToCardBtn" class="btn btn-primary">🎴 Go to Card Creation</button>
                    </div>
                    
                    <div id="videoControls" class="hidden">
                        <textarea id="animationPrompt" class="prompt-input" placeholder="Describe how you want your card animated... (e.g., 'Make the wizard's staff glow and sparkle')"></textarea>
                        <button id="generateVideoBtn" class="btn btn-generate">🎬 Generate Video (2 min wait)</button>
                    </div>
                    
                    <div id="videoResult" class="hidden">
                        <video id="videoPlayer" class="video-player" controls>
                            <source id="videoSource" src="" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <div class="result-actions">
                            <button id="downloadVideoBtn" class="btn btn-success">💾 Download Video</button>
                            <button id="createAnotherVideoBtn" class="btn btn-secondary">🔄 Create Another Video</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Processing Overlay -->
    <div id="processingOverlay" class="processing-overlay">
        <div class="processing-content">
            <div class="processing-spinner"></div>
            <div class="processing-text">Creating your magic...</div>
            <div class="processing-subtext">Please wait while AI generates your content</div>
        </div>
    </div>

    <script>
        // Configuration - will be replaced by CDK deployment
        window.SNAPMAGIC_CONFIG = {
            API_URL: 'PLACEHOLDER_API_URL',
            VERSION: '3.0',
            FEATURES: ['trading_cards', 'video_animation']
        };
    </script>
    <script src="js/app.js"></script>
</body>
</html>
